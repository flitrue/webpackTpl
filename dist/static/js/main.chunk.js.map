{"version":3,"file":"static/js/main.chunk.js","sources":["/Users/zhangyuang/Desktop/github/bigview-react-ssr/src/App.js","/Users/zhangyuang/Desktop/github/bigview-react-ssr/src/components/video/index.js","/Users/zhangyuang/Desktop/github/bigview-react-ssr/src/components/video/video.css","/Users/zhangyuang/Desktop/github/bigview-react-ssr/src/entry-client.js","/Users/zhangyuang/Desktop/github/bigview-react-ssr/src/mock/video.js","/Users/zhangyuang/Desktop/github/bigview-react-ssr/src/model/video.js","/Users/zhangyuang/Desktop/github/bigview-react-ssr/src/router/index.js","/Users/zhangyuang/Desktop/github/bigview-react-ssr/src/services/video.js","/Users/zhangyuang/Desktop/github/bigview-react-ssr/ignored /Users/zhangyuang/Desktop/github/bigview-react-ssr/node_modules/global min-document"],"sourcesContent":["import React, { Component } from 'react'\nimport { Route, Switch } from 'dva/router'\nimport routes from './router'\n\nclass App extends Component {\n  render () {\n    return (\n      <Switch>\n        {\n          routes.map(({ path, exact, component: Component }) => {\n            return <Route key={path} path={path} exact={exact} component={Component} />\n          })\n        }\n      </Switch>\n    )\n  }\n}\n\nexport default App\n","import React, { Component } from 'react'\nimport { connect } from 'dva'\nimport './video.css'\n\nclass Video extends Component {\n  componentDidMount () {\n    this.getVideo()\n  }\n  getVideo () {\n    this.props.dispatch({\n      type: 'video/get',\n      payload: {}\n    })\n  }\n\n  initPlayer (videoArr) {\n    if (videoArr.length === 0) return\n    videoArr.map(item => {\n      const vid = item.itemResult.item[1].preview.vid\n      if (!vid) return false\n      const config = {\n        id: 'youku-player',\n        vid: vid,\n        client_id: '1c9aa3003b83b3b2',\n        events: {\n          onPlayStart: this.wifiPlayH5,\n          onAdPlayStart: this.onPlayH5,\n          onPlayEnd: this.onPlayEnd,\n          onMediaSrcOK: this.onMediaSrcOK,\n          onPlay: this.onPlayH5,\n          onReady: this.onReadyH5\n        }\n      }\n      const uiConfig = {\n        dash: { // 控制栏按钮隐藏配置\n          full: true // 是否隐藏全屏按钮\n        }\n      }\n      return window.YKPlayer.Player(vid, config, uiConfig)\n    })\n  }\n  componentDidUpdate () {\n    this.initPlayer(this.props.videoArr)\n  }\n  render () {\n    const videoArr = this.props.videoArr\n    return (\n      <div className='video-container'>\n        <div id='playerWrap' >\n          {\n            videoArr.map((item, index) => {\n              return (\n                <div key={`video${index}`}>\n                  {\n                    item.template.tag !== 'PHONE_AD_B'\n                      ? <div>\n                        <div className='player' id={item.itemResult.item[1].preview.vid} />\n                        <div className='player-footer'>\n                          <div className='author'>\n                            { item.itemResult.item[1].uploader.name.length > 6 ? item.itemResult.item[1].uploader.name.slice(0, 6) + '...' : item.itemResult.item[1].uploader.name }\n                          </div>\n                          <div className='comment'>\n                            <img alt='' className='wifi-img' src='https://img.alicdn.com/tfs/TB1.XkGkxTpK1RjSZR0XXbEwXXa-72-72.png' />\n                            <span className='comment-count'>{ item.itemResult.item[1].comments.count }</span>\n                          </div>\n                        </div>\n                      </div>\n                      : ''\n                  }\n                </div>\n              )\n            })\n          }\n        </div>\n      </div>\n\n    )\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    videoArr: state.video.videoArr\n  }\n}\nexport default connect(mapStateToProps)(Video)\n","module.exports = __webpack_public_path__ + \"static/media/video.beb149a5.css\";","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport dva from 'dva'\nimport { browserHistory, Router } from 'dva/router'\nimport App from './App'\n\nconst app = dva({ browserHistory })\n// 2. Plugins\n// app.use({});\n\n// 3. Model\napp.model(require('./model/video').default)\n\n// 4. Router\napp.router(function RouterConfig ({ history }) {\n  return (\n    <Router history={history}>\n      <App />\n    </Router>\n  )\n}\n)\n\nconst Start = app.start()\nReactDOM.render(<Start />, document.getElementById('app'))\n","const video = [\n  {'itemResult': {'item': {'1': {'preview': {'vid': 'XMzgzOTcxOTIwNA=='}, 'uploader': {'name': '蚀日风暴'}, 'comments': {'count': 0}}}}, 'template': {'tag': 'PHONE_FEED_OGC_SURROUND_SINGLE'}}, {'itemResult': {'item': {'1': {'preview': {'vid': 'XMzkxNTkwMjAwNA=='}, 'uploader': {'name': '潮十八'}, 'comments': {'count': 0}}}}, 'template': {'tag': 'PHONE_FEED_OGC_SURROUND_SINGLE'}}, {'itemResult': {'item': {'1': {'preview': {'vid': 'XMzkxMzY4NzIwNA=='}, 'uploader': {'name': '北京电视台'}, 'comments': {'count': 0}}}}, 'template': {'tag': 'PHONE_FEED_OGC_SURROUND_SINGLE'}}, {'itemResult': {'item': {'1': {'preview': {'vid': 'XMzkzMTI1NTgwNA=='}, 'uploader': {'name': '电视剧我的保姆手册'}, 'comments': {'count': 0}}}}, 'template': {'tag': 'PHONE_FEED_OGC_SURROUND_SINGLE'}}, {'itemResult': {'item': {'1': {'preview': {'vid': 'XMzk0NDk3NzQwNA=='}, 'uploader': {'name': '火星情报局'}, 'comments': {'count': 0}}}}, 'template': {'tag': 'PHONE_FEED_OGC_SURROUND_SINGLE'}}, {'itemResult': {'item': {'1': {'preview': {'vid': 'XMzkxODc5MDQwNA=='}, 'uploader': {'name': '大剧刀叨'}, 'comments': {'count': 0}}}}, 'template': {'tag': 'PHONE_FEED_OGC_SURROUND_SINGLE'}}, {'itemResult': {'item': {'1': {'preview': {'vid': 'XMzg1ODI4OTgwNA=='}, 'uploader': {'name': '《这！就是灌篮》'}, 'comments': {'count': 0}}}}, 'template': {'tag': 'PHONE_FEED_OGC_SURROUND_SINGLE'}}\n]\n\nexport default video\n","import * as videoService from '../services/video'\n\nexport default {\n  namespace: 'video',\n  state: {\n    videoArr: []\n  },\n  reducers: {\n    saveVideo (state, action) {\n      return { ...state, ...action.payload }\n    }\n  },\n  effects: {\n    * get ({ payload }, {call, put}) {\n      const videoArr = yield call(videoService.getVideo)\n      yield put({\n        type: 'saveVideo',\n        payload: {\n          videoArr: videoArr\n        }\n      })\n    }\n  }\n\n}\n","import Video from '../components/video'\n\nconst routes = [\n  {\n    path: '/',\n    exact: true,\n    component: Video\n  }\n]\n\nexport default routes\n","import videoMock from '../mock/video'\n\nconst getVideo = () => {\n  return new Promise(resolve => {\n    // 模拟异步调用\n    setTimeout(() => {\n      resolve(videoMock)\n    }, 1000)\n  })\n}\n\nexport {\n  getVideo\n}\n","/* (ignored) */"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;;;;AAXA;AACA;AAaA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AAFA;AAIA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAJA;AAaA;AACA;AAAA;AACA;AACA;AAFA;AADA;AAKA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AAAA;AAIA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAQA;AAMA;;;;AAzEA;AACA;AA0EA;AACA;AACA;AADA;AAGA;AACA;AAAA;;;;;;;;;;;ACpFA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AAAA;AAIA;AAGA;AACA;;;;;;;;;;;;ACxBA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;;;;;;;;;;;ACJA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AADA;AAEA;AACA;AAHA;AAEA;AAFA;AAGA;AACA;AACA;AACA;AADA;AAFA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVA;;;;;;;;;;;;ACFA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AAHA;AAOA;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACVA;;;;A","sourceRoot":""}